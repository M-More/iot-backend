<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.it.iotplatform.mapper.DeviceInfoMapper">

    <resultMap id="deviceInfoResultMap" type="com.it.iotplatform.model.DeviceInfo" autoMapping="true">
        <id property="deviceNumber" column="device_number"/>
        <result property="deviceSort" column="device_sort" />
        <result property="deviceBrand" column="device_brand" />
        <result property="deviceTypeName" column="device_type_name" />
        <result property="deviceModel" column="device_model" />
        <result property="deviceNumber" column="device_number" />
        <result property="installDate" column="install_date" />
        <result property="longitude" column="longitude" />
        <result property="latitude" column="latitude" />
        <result property="installAddress" column="install_address" />
    </resultMap>
    <insert id="addDeviceInfo" parameterType="com.it.iotplatform.model.DeviceInfo" useGeneratedKeys="true">
        INSERT INTO DeviceInfo
        (device_sort,
         device_brand,
         device_type_name,
         device_model,
         device_number,
         install_date,
         longitude,
         latitude,
         install_address,
        )
        VALUES
            (#{deviceSort},
             #{deviceBrand},
             #{deviceTypeName},
             #{deviceModel},
             #{deviceNumber},
             #{deviceDate},
             #{longitude},
             #{latitude},
             #{installAddress});
    </insert>
    <update id="updateDeviceInfo" parameterType="com.it.iotplatform.model.DeviceInfo">
        UPDATE DeviceInfo
        SET
            device_sort=#{deviceSort},
            device_brand=#{deviceBrand},
            device_type_name=#{deviceTypeName},
            device_model=#{deviceModel},
            device_number=#{deviceNumber},
            install_date=#{deviceDate},
            longitude=#{longitude},
            latitude=#{latitude},
            install_address=#{installAddress},
            where device_number=#{deviceNumber}
    </update>
    <delete id="deleteDeviceInfoById">
        DELETE from DeviceInfo where device_number=#{deviceNumber}
    </delete>
    <select id="getDeviceInfo" resultMap="deviceInfoResultMap">
        select * from DeviceInfo where where device_number=#{deviceNumber}
    </select>
</mapper>